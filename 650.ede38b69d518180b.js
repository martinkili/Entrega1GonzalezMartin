"use strict";(self.webpackChunkEntregaFinal=self.webpackChunkEntregaFinal||[]).push([[650],{3650:(Q,Z,a)=>{a.r(Z),a.d(Z,{AlumnosModule:()=>w});var r=a(8996),t=a(4650),C=a(7524);let A=(()=>{class n{constructor(e){this.clienteHttp=e}getAll(){return this.clienteHttp.getAll("Alumnos")}get(e){return this.clienteHttp.get("Alumnos/"+e)}post(e){return this.clienteHttp.post(e,"Alumnos")}put(e){return this.clienteHttp.put(e,"Alumnos/"+e.Id)}delete(e){return this.clienteHttp.delete("Alumnos/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(C.G))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var h=a(4859),c=a(3546),_=a(1572),d=a(6895);function b(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",3),t.qZA())}function T(n,l){if(1&n&&(t.TgZ(0,"div")(1,"mat-card-title-group")(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-subtitle"),t._uU(7),t.ALo(8,"date"),t.qZA(),t._UZ(9,"img",4),t.qZA()()),2&n){const e=l.ngIf;t.xp6(3),t.Oqu(e.Apellidos+" "+e.Nombre),t.xp6(2),t.Oqu(e.Email),t.xp6(2),t.hij("Fecha de nacimiento: ",t.xi3(8,4,e.FechaDeNacimiento,"dd/MM/yyyy"),""),t.xp6(2),t.s9C("src",e.Avatar,t.LSH)}}let N=(()=>{class n{constructor(e,o){this.activateRoute=e,this.alumnoService=o}ngOnInit(){this.activateRoute.paramMap.subscribe(e=>{let o=parseInt(e.get("id")||"0");this.alumno$=this.alumnoService.get(o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.gz),t.Y36(A))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-alumnos-detalle"]],decls:10,vars:6,consts:[[4,"ngIf"],[1,"example-card"],["mat-button","","routerLink","/Alumnos"],["diameter","40",2,"margin","0 auto"],["mat-card-lg-image","","alt","Photo of a Shiba Inu",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Detalle de Alumno"),t.qZA(),t.YNc(2,b,2,0,"div",0),t.ALo(3,"async"),t.TgZ(4,"mat-card",1),t.YNc(5,T,10,7,"div",0),t.ALo(6,"async"),t.TgZ(7,"mat-card-actions")(8,"button",2),t._uU(9,"Volver"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",null==t.lcZ(3,2,o.alumno$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,4,o.alumno$)))},dependencies:[h.lW,c.a8,c.C1,c.n5,c.$j,c.hq,c.WU,_.Ou,d.O5,r.rH,d.Ov,d.uU],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}"]}),n})();var i=a(4006),u=a(5412),g=a(9549),x=a(4144),v=a(9602);let I=(()=>{class n{constructor(e,o,m,p,f){this.dialogRef=e,this.datos=o,this.fb=m,this.alumnosService=p,this.titleCasePipe=f,this.idAlumno=0,this.titulo="Crear Alumno",this.formAlumno=this.fb.group({apellidos:new i.NI(null,[i.kI.required]),nombre:new i.NI(null,[i.kI.required]),email:new i.NI(null,[i.kI.required]),fechaDeNacimiento:new i.NI}),null!=o&&o.Id>0&&(this.idAlumno=o.Id,this.titulo="Editar Alumno",this.formAlumno.setValue({apellidos:o.Apellidos,nombre:o.Nombre,email:o.Email,fechaDeNacimiento:o.FechaDeNacimiento}))}ngOnInit(){}grabar(){null!=this.datos?this.datos.Id>0&&this.put():this.post(),this.dialogRef.close()}cancelar(){this.dialogRef.close()}post(){const e={Nombre:this.titleCasePipe.transform(this.formAlumno.value.nombre),Apellidos:this.titleCasePipe.transform(this.formAlumno.value.apellidos),Email:this.formAlumno.value.email,FechaDeNacimiento:this.formAlumno.value.fechaDeNacimiento,Avatar:"",Id:Math.round(1e3*Math.random())};this.alumnosService.post(e)}put(){const e={Nombre:this.titleCasePipe.transform(this.formAlumno.value.nombre),Apellidos:this.titleCasePipe.transform(this.formAlumno.value.apellidos),Email:this.formAlumno.value.email,FechaDeNacimiento:this.formAlumno.value.fechaDeNacimiento,Avatar:"",Id:this.idAlumno};this.alumnosService.put(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.so),t.Y36(u.WI,8),t.Y36(i.qu),t.Y36(A),t.Y36(d.rS))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-alta-alumnos"]],decls:31,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["appFuente20",""],["matInput","","formControlName","apellidos","placeholder","Ingrese un Apellido"],["matInput","","formControlName","nombre","placeholder","Ingrese un nombre"],["matInput","","formControlName","email","placeholder","Ingrese un email"],["matInput","","formControlName","fechaDeNacimiento",3,"matDatepicker"],["matSuffix","",3,"for"],["fechaDeNacimiento",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field")(5,"mat-label",3),t._uU(6,"Apellido"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-form-field")(10,"mat-label",3),t._uU(11,"Nombre"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"mat-form-field")(15,"mat-label",3),t._uU(16,"Email"),t.qZA(),t._UZ(17,"input",6),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"mat-form-field")(20,"mat-label",3),t._uU(21,"Fecha de Nacimiento"),t.qZA(),t._UZ(22,"input",7)(23,"mat-datepicker-toggle",8)(24,"mat-datepicker",null,9),t.qZA()()(),t.TgZ(26,"div",10)(27,"button",11),t.NdJ("click",function(){return o.cancelar}),t._uU(28,"Cancelar"),t.qZA(),t.TgZ(29,"button",12),t.NdJ("click",function(){return o.grabar()}),t._uU(30,"Guardar"),t.qZA()()),2&e){const m=t.MAs(25);t.xp6(1),t.Oqu(o.titulo),t.xp6(2),t.Q6J("formGroup",o.formAlumno),t.xp6(19),t.Q6J("matDatepicker",m),t.xp6(1),t.Q6J("for",m),t.xp6(6),t.Q6J("disabled",!o.formAlumno.valid)}},dependencies:[u.ZT,u.uh,u.xY,u.H8,g.KE,g.hX,g.R9,x.Nt,h.lW,v.Mq,v.hl,v.nW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})();var s=a(7155),U=a(7392);function D(n,l){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",3),t.qZA())}function y(n,l){1&n&&(t.TgZ(0,"mat-header-cell",12),t._uU(1,"Nombre"),t.qZA())}function L(n,l){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.hij(" ",e.Apellidos+" "+e.Nombre," ")}}function Y(n,l){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Acciones"),t.qZA())}function J(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell")(1,"button",13)(2,"mat-icon",14),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",13)(5,"mat-icon",15),t.NdJ("click",function(){const p=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.openDialog(p))}),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",13)(8,"mat-icon",15),t.NdJ("click",function(){const p=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.eliminar(p.Id))}),t._uU(9,"delete"),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Q6J("routerLink","/Alumnos/"+e.Id)}}function q(n,l){1&n&&t._UZ(0,"mat-header-row")}function F(n,l){1&n&&t._UZ(0,"mat-row")}function S(n,l){if(1&n&&(t.TgZ(0,"div")(1,"mat-table",4),t.ynx(2,5),t.YNc(3,y,2,0,"mat-header-cell",6),t.YNc(4,L,2,1,"mat-cell",7),t.BQk(),t.ynx(5,8),t.YNc(6,Y,2,0,"mat-header-cell",9),t.YNc(7,J,10,1,"mat-cell",7),t.BQk(),t.YNc(8,q,1,0,"mat-header-row",10),t.YNc(9,F,1,0,"mat-row",11),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataInicial),t.xp6(7),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}const k=[{path:"",component:(()=>{class n{constructor(e,o,m){this.dialog=e,this.alumnosService=o,this.router=m,this.displayedColumns=["nombre","acciones"]}ngOnInit(){this.getAll()}openDialog(e,o){this.dialog.open(I,{data:e,id:o}).afterClosed().subscribe(()=>this.getAll())}getAll(){this.alumnosService.getAll().subscribe(e=>this.dataInicial=e.sort((o,m)=>o.Apellidos<m.Apellidos?-1:1))}eliminar(e){confirm("Seguro de eliminar el alumno?")&&(this.alumnosService.delete(e),this.getAll())}detalle(e){this.router.navigate(["Alumnos/Detalle/"+e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.uw),t.Y36(A),t.Y36(r.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lista-alumnos"]],decls:8,vars:2,consts:[[1,"d-flex","justify-content-left","w-100"],["mat-raised-button","",3,"click"],[4,"ngIf"],["diameter","40",2,"margin","0 auto"],[3,"dataSource"],["matColumnDef","nombre"],["appFuente20","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","acciones"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["appFuente20",""],["mat-icon-button",""],[3,"routerLink"],[3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Alumnos"),t.qZA(),t.TgZ(2,"div",0)(3,"button",1),t.NdJ("click",function(){return o.openDialog()}),t._uU(4,"Agregar Alumno"),t.qZA()(),t._UZ(5,"br"),t.YNc(6,D,2,0,"div",2),t.YNc(7,S,10,3,"div",2)),2&e&&(t.xp6(6),t.Q6J("ngIf",null==o.dataInicial),t.xp6(1),t.Q6J("ngIf",null!=o.dataInicial))},dependencies:[s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,U.Hw,h.lW,_.Ou,d.O5,r.rH]}),n})()},{path:":id",component:N}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.Bz.forChild(k),r.Bz]}),n})();var H=a(4466);let w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[A,d.rS],imports:[H.m,M]}),n})()}}]);