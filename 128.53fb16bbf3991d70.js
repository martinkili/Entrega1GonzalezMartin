"use strict";(self.webpackChunkEntregaFinal=self.webpackChunkEntregaFinal||[]).push([[128],{8128:(sn,g,c)=>{c.r(g),c.d(g,{InscripcionesModule:()=>tn});var F=c(4466),s=c(9653);const l=(0,s.PH)("[Inscripciones] Cargar Inscripciones"),h=(0,s.PH)("[Inscripciones] Inscripciones Cargadas",(0,s.Ky)()),f=(0,s.PH)("[Inscripciones] Agregar Inscripcion",(0,s.Ky)()),C=(0,s.PH)("[Inscripciones] Editar Inscripcion",(0,s.Ky)()),I=(0,s.PH)("[Inscripciones] Eliminar Inscripcion",(0,s.Ky)()),Z="inscripciones",Y=(0,s.Lq)({cargando:!1,inscripciones:[]},(0,s.on)(l,e=>({...e,cargando:!0})),(0,s.on)(h,(e,{inscripciones:t})=>({...e,cargando:!1,inscripciones:t})),(0,s.on)(f,e=>e),(0,s.on)(C,e=>e),(0,s.on)(I,e=>e));var A=c(6582),_=c(1896),a=c(7155);const T=(0,s.ZF)(Z),O=(0,s.P1)(T,e=>e.cargando),y=(0,s.P1)(T,e=>e.inscripciones);var n=c(4650),x=c(3108),H=c(3829),J=c(7392),S=c(9549),M=c(4859),D=c(1572),Q=c(4385),R=c(3238),$=c(4006),v=c(6895);function E(e,t){if(1&e&&(n.TgZ(0,"mat-option",10),n._uU(1),n.qZA()),2&e){const i=t.$implicit;n.Q6J("value",i),n.xp6(1),n.Oqu(i.Nombre)}}function G(e,t){1&e&&(n.TgZ(0,"div"),n._UZ(1,"mat-spinner",11),n.qZA())}function b(e,t){1&e&&(n.TgZ(0,"th",22),n._uU(1,"ID"),n.qZA())}function B(e,t){if(1&e&&(n.TgZ(0,"td",23),n._uU(1),n.qZA()),2&e){const i=t.$implicit;n.xp6(1),n.Oqu(i.Id)}}function K(e,t){1&e&&(n.TgZ(0,"th",22),n._uU(1,"Curso"),n.qZA())}function L(e,t){if(1&e&&(n.TgZ(0,"td",23),n._uU(1),n.qZA()),2&e){const i=t.$implicit;n.xp6(1),n.Oqu(i.Curso.Nombre)}}function P(e,t){1&e&&(n.TgZ(0,"th",22),n._uU(1,"Estudiante"),n.qZA())}function z(e,t){if(1&e&&(n.TgZ(0,"td",23),n._uU(1),n.qZA()),2&e){const i=t.$implicit;n.xp6(1),n.Oqu(i.IdAlumno)}}function W(e,t){1&e&&(n.TgZ(0,"th",22),n._uU(1,"Acciones"),n.qZA())}function w(e,t){if(1&e){const i=n.EpF();n.TgZ(0,"td",23)(1,"button",24),n.NdJ("click",function(){const u=n.CHM(i).$implicit,cn=n.oxw(2);return n.KtG(cn.eliminar(u))}),n.TgZ(2,"mat-icon"),n._uU(3,"delete"),n.qZA()()()}}function X(e,t){1&e&&n._UZ(0,"tr",25)}function j(e,t){1&e&&n._UZ(0,"tr",26)}function q(e,t){if(1&e&&(n.TgZ(0,"div",1)(1,"div",12)(2,"table",13),n.ynx(3,14),n.YNc(4,b,2,0,"th",15),n.YNc(5,B,2,1,"td",16),n.BQk(),n.ynx(6,17),n.YNc(7,K,2,0,"th",15),n.YNc(8,L,2,1,"td",16),n.BQk(),n.ynx(9,18),n.YNc(10,P,2,0,"th",15),n.YNc(11,z,2,1,"td",16),n.BQk(),n.ynx(12,19),n.YNc(13,W,2,0,"th",15),n.YNc(14,w,4,0,"td",16),n.BQk(),n.YNc(15,X,1,0,"tr",20),n.YNc(16,j,1,0,"tr",21),n.qZA()()()),2&e){const i=n.oxw();n.xp6(2),n.Q6J("dataSource",i.dataSource),n.xp6(13),n.Q6J("matHeaderRowDef",i.columnas),n.xp6(1),n.Q6J("matRowDefColumns",i.columnas)}}const V=[{path:"",component:(()=>{class e{constructor(i,o,r){this.storeInscripciones=i,this.cursosService=o,this.sesionService=r,this.columnas=["id","curso","estudiante","acciones"],this.storeInscripciones.dispatch(l()),this.cargando$=this.storeInscripciones.select(O)}ngOnInit(){this.storeInscripciones.select(y).subscribe(i=>{this.dataSource=new a.by(i)}),this.cursos$=this.cursosService.getAll(),this.usuarioActivo=this.sesionService.sesion.usuario,this.inscripciones$=this.storeInscripciones.select(y)}inscribir(i){null!=this.usuarioActivo&&this.storeInscripciones.dispatch(f({inscripcion:{Id:0,Curso:i,IdAlumno:this.usuarioActivo.Id}}))}eliminar(i){this.storeInscripciones.dispatch(I({inscripcion:i}))}}return e.\u0275fac=function(i){return new(i||e)(n.Y36(s.yh),n.Y36(x.Z),n.Y36(H.K))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-inscripciones-crear"]],decls:18,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-4"],["appearance","fill",1,"fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],["mat-raised-button","","color","primary",3,"click"],[4,"ngIf"],["class","row",4,"ngIf"],[3,"value"],["diameter","40",2,"margin","0 auto"],[1,"col-md-12"],["mat-table","",1,"fill",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","curso"],["matColumnDef","estudiante"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(n.TgZ(0,"div",0)(1,"h1"),n._uU(2,"Lista de inscripciones"),n.qZA(),n.TgZ(3,"div",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),n._uU(7,"Seleccione un curso"),n.qZA(),n.TgZ(8,"mat-select",4),n.NdJ("ngModelChange",function(u){return o.cursoSeleccionado=u}),n.YNc(9,E,2,2,"mat-option",5),n.ALo(10,"async"),n.qZA()()(),n.TgZ(11,"div",6)(12,"button",7),n.NdJ("click",function(){return o.inscribir(o.cursoSeleccionado)}),n._uU(13,"Agregar Inscripcion"),n.qZA()()(),n.YNc(14,G,2,0,"div",8),n.ALo(15,"async"),n.YNc(16,q,17,3,"div",9),n.ALo(17,"async"),n.qZA()),2&i&&(n.xp6(8),n.Q6J("ngModel",o.cursoSeleccionado),n.xp6(1),n.Q6J("ngForOf",n.lcZ(10,4,o.cursos$)),n.xp6(5),n.Q6J("ngIf",n.lcZ(15,6,o.cargando$)),n.xp6(2),n.Q6J("ngIf",!n.lcZ(17,8,o.cargando$)))},dependencies:[a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,J.Hw,S.KE,S.hX,M.lW,D.Ou,Q.gD,R.ey,$.JJ,$.On,v.sg,v.O5,v.Ov],styles:[".fill[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[_.u]}];let k=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[A.Bz.forChild(V),A.Bz]}),e})();var nn=c(7524);let U=(()=>{class e{constructor(i){this.clienteHttp=i}getAll(){return this.clienteHttp.getAll("Inscripciones")}post(i){return this.clienteHttp.postReturnObservable(i,"Inscripciones")}put(i){return this.clienteHttp.putReturnObservable(i,"Inscripciones")}delete(i){return this.clienteHttp.deleteReturnObservable("Inscripciones/"+i.Id)}}return e.\u0275fac=function(i){return new(i||e)(n.LFG(nn.G))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=c(493),d=c(4351),m=c(4004);let en=(()=>{class e{constructor(i,o){this.actions$=i,this.inscripcionesService=o,this.cargarInscripciones$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(l),(0,d.b)(()=>this.inscripcionesService.getAll().pipe((0,m.U)(r=>h({inscripciones:r})))))),this.agregarInscripciones$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(f),(0,d.b)(({inscripcion:r})=>this.inscripcionesService.post(r).pipe((0,m.U)(u=>l()))))),this.eliminarInscripcion$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(I),(0,d.b)(({inscripcion:r})=>this.inscripcionesService.delete(r).pipe((0,m.U)(u=>l()))))),this.editarInscripcion$=(0,p.GW)(()=>this.actions$.pipe((0,p.l4)(C),(0,d.b)(({inscripcion:r})=>this.inscripcionesService.put(r).pipe((0,m.U)(u=>l())))))}}return e.\u0275fac=function(i){return new(i||e)(n.LFG(p.eX),n.LFG(U))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),tn=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[U,x.Z],imports:[k,F.m,s.Aw.forFeature(Z,Y),p.sQ.forFeature([en])]}),e})()}}]);